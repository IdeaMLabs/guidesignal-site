<!DOCTYPE html>
<html>
<head>
    <title>Simple Signup Test</title>
    <style>
        .form-group { margin-bottom: 15px; }
        input, button { padding: 10px; margin: 5px; }
        button { background: #667eea; color: white; border: none; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Simple Signup Test</h1>
    <form id="test-signup-form">
        <div class="form-group">
            <input type="text" id="name" placeholder="Full Name" required>
        </div>
        <div class="form-group">
            <input type="email" id="email" placeholder="Email" required>
        </div>
        <div class="form-group">
            <input type="password" id="password" placeholder="Password" required>
        </div>
        <div class="form-group">
            <label><input type="radio" name="role" value="student" required> Student</label>
            <label><input type="radio" name="role" value="recruiter"> Recruiter</label>
        </div>
        <div class="form-group">
            <label><input type="checkbox" id="terms" required> I agree to terms</label>
        </div>
        <button type="submit" id="signup-btn">Create Account</button>
    </form>

    <div id="log" style="background: #f0f0f0; padding: 10px; margin-top: 20px; font-family: monospace;"></div>

    <script>
        function log(message) {
            const logDiv = document.getElementById('log');
            logDiv.innerHTML += new Date().toLocaleTimeString() + ': ' + message + '<br>';
            console.log(message);
        }

        document.getElementById('test-signup-form').addEventListener('submit', async function(event) {
            event.preventDefault();
            log('Form submitted');

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const role = document.querySelector('input[name="role"]:checked')?.value;
            const terms = document.getElementById('terms').checked;

            log(`Form data: name=${name}, email=${email}, role=${role}, terms=${terms}`);

            if (!name || !email || !password || !role || !terms) {
                log('❌ Validation failed');
                return;
            }

            log('✅ Validation passed');

            const submitBtn = document.getElementById('signup-btn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Processing...';

            log('Simulating Firebase registration...');

            // Simulate Firebase call
            setTimeout(() => {
                log('✅ Mock registration successful');

                // Store data
                localStorage.setItem('userEmail', email);
                localStorage.setItem('userName', name);
                localStorage.setItem('userRole', role);

                log('Data stored in localStorage');

                // Prepare redirect
                const redirectUrl = `confirmation.html?email=${encodeURIComponent(email)}`;
                log(`Preparing to redirect to: ${redirectUrl}`);

                setTimeout(() => {
                    log('🔄 Redirecting now...');
                    window.location.href = redirectUrl;
                }, 1000);

            }, 2000);
        });

        log('Simple signup test loaded');
    </script>
</body>
</html>